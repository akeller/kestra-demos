id: github_issue_test
namespace: company.team

tasks:
  - id: top_kestra_repos
    type: io.kestra.plugin.github.repositories.Search
    query: "org:kestra-io"
    visibility: PUBLIC
    sort: STARS
    order: DESC

  - id: to_json
    type: io.kestra.plugin.serdes.json.IonToJson
    from: "{{ outputs.top_kestra_repos.uri }}"

  - id: log_json
    type: io.kestra.plugin.core.log.Log
    message: "{{ read(outputs.to_json.uri) | jq('.name') | first }}"
